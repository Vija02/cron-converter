!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Cron=t()}}(function(){return function t(n,e,r){function i(a,u){if(!e[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var p=e[a]={exports:{}};n[a][0].call(p.exports,function(t){var e=n[a][1][t];return i(e?e:t)},p,p.exports,t,n,e,r)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,e){(function(e){"use strict";function r(t){t?this.options=t:this.options={},this.parts=null,this.seeker=new o(this)}var i=("undefined"!=typeof window?window.moment:"undefined"!=typeof e?e.moment:null,t("./part")),o=t("./seeker"),a=t("./units");r.prototype.fromString=function(t){if("string"!=typeof t)throw new Error("Invalid cron string");var n=t.replace(/\s+/g," ").trim().split(" ");if(5!==n.length)throw new Error("Invalid cron string format");var e=this.options;return this.parts=n.map(function(t,n){var r=new i(a[n],e);return r.fromString(t),r}),this},r.prototype.toString=function(){if(null===this.parts)throw new Error("No schedule found");return this.parts.join(" ")},r.prototype.fromArray=function(t){if(5!==t.length)throw new Error("Invalid cron array");return this.parts=t.map(function(t,n){var e=new i(a[n]);return e.fromArray(t),e}),this},r.prototype.toArray=function(){if(null===this.parts)throw new Error("No schedule found");return this.parts.map(function(t){return t.toArray()})},r.prototype.next=function(t){return this.seeker.next(t)},r.prototype.prev=function(t){return this.seeker.prev(t)},n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./part":2,"./seeker":3,"./units":4}],2:[function(t,n,e){(function(t){"use strict";function e(t,n){n?this.options=n:this.options={},this.unit=t}var r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e.prototype.fromArray=function(t){var n=r.sortBy(r.union(this.fixSunday(t.map(function(t){if(t=parseInt(t,10),isNaN(t))throw new Error("Invalid value");return t}))));if(!n.length)throw new Error("Empty interval value");if(!this.inRange(n))throw new Error("Value out of range");this.values=n},e.prototype.fromString=function(t){var n=this.unit,e=t.split("/");if(e.length>2)throw new Error("Interval syntax error");var i,o=this.replaceAlternatives(e[0]);if("*"===o)i=r.range(n.min,n.max+1);else if(i=r.sortBy(r.union(this.fixSunday(r.flatten(r.map(o.split(","),this.parseRange))))),!this.inRange(i))throw new Error("Value out of range");var a=this.parseStep(e[1]);this.values=this.applyInterval(i,a)},e.prototype.fixSunday=function(t){return"weekday"===this.unit.name&&(t=t.map(function(t){return 7===t?0:t})),t},e.prototype.parseRange=function(t){var n=t.split("-");if(1===n.length){var e=parseInt(n[0],10);if(isNaN(e))throw new Error("Invalid value");return[e]}if(2===n.length){var i=parseInt(n[0],10),o=parseInt(n[1],10);if(i>=o)throw new Error("Part syntax error: max range is less than min range");return r.range(i,o+1)}throw new Error("Part syntax error")},e.prototype.parseStep=function(t){if("undefined"!=typeof t&&(t=parseInt(t,10),isNaN(t)||1>t))throw new Error("Invalid interval step value");return t},e.prototype.applyInterval=function(t,n){if(n&&(t=t.filter(function(t){return t%n===0}),!t.length))throw new Error("Empty interval value");return t},e.prototype.replaceAlternatives=function(t){var n=this.unit;if(n.alt){t=t.toUpperCase();for(var e=0;e<n.alt.length;e++)t=t.replace(n.alt[e],e+n.min)}return t},e.prototype.replaceOutputAlternatives=function(t){for(var n=this.unit,e=0;e<n.alt.length;e++)t=t.replace(e+n.min,n.alt[e]);return t},e.prototype.inRange=function(t){var n=t[0],e=t[t.length-1];return n<this.unit.min||e>this.unit.max?!1:!0},e.prototype.min=function(){return this.values[0]},e.prototype.max=function(){return this.values[this.values.length-1]},e.prototype.isFull=function(){return this.values.length===this.unit.max-this.unit.min+1},e.prototype.getStep=function(){if(this.values.length>2){var t=this.values[1]-this.values[0];if(t>1)return t}},e.prototype.isInterval=function(t){for(var n=1;n<this.values.length;n++){var e=this.values[n-1],r=this.values[n];if(r-e!==t)return!1}return!0},e.prototype.isFullInterval=function(t){var n=this.unit,e=this.min(),r=this.max(),i=this.values.length===(r-e)/t+1;return e-t<n.min&&r+t>n.max&&i?!0:!1},e.prototype.has=function(t){return this.values.indexOf(t)>-1},e.prototype.toArray=function(){return this.values},e.prototype.toRanges=function(){var t=[],n=null;return r.forEach(this.values,function(e,r,i){e!==i[r+1]-1?null!==n?(t.push([n,e]),n=null):t.push(e):null===n&&(n=e)}),t},e.prototype.toString=function(){var t="";if(this.isFull())t=this.options.outputHashes?"H":"*";else{var n=this.getStep();t=n&&this.isInterval(n)?this.isFullInterval(n)?this.options.outputHashes?"H/"+n:"*/"+n:this.options.outputHashes?"H("+this.min()+"-"+this.max()+")/"+n:this.min()+"-"+this.max()+"/"+n:this.toRanges().map(function(t){return t.length?t[0]+"-"+t[1]:t}).join(","),this.options.outputWeekdayNames&&"weekday"==this.unit.name?t=this.replaceOutputAlternatives(t):this.options.outputMonthNames&&"month"==this.unit.name&&(t=this.replaceOutputAlternatives(t))}return t},n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){(function(t){"use strict";function e(t){this.cron=t}var r="undefined"!=typeof window?window.moment:"undefined"!=typeof t?t.moment:null;e.prototype.next=function(t){return i(this.cron.parts,t)},e.prototype.prev=function(t){return i(this.cron.parts,t,!0)};var i=function(t,n,e){if(null===t)throw new Error("No schedule found");var i=r(n);if(!i.isValid())throw new Error("Invalid date provided");var f="add",p="startOf";e&&(f="subtract",p="endOf",i.subtract(1,"minute"));for(var l=24;--l;){o(t,i,f,p);var h=a(t,i,f,p);if(!h){var d=u(t,i,f,p);if(!d){var c=s(t,i,f,p);if(!c)break}}}if(!l)throw new Error("Unable to find execution time for schedule");return i.seconds(0).milliseconds(0),i.toDate()},o=function(t,n,e,r){for(;!t[3].has(n.month()+1);)n[e](1,"months")[r]("month")},a=function(t,n,e,r){for(var i=n.month();!t[2].has(n.date())||!t[4].has(n.day());)if(n[e](1,"days")[r]("day"),i!==n.month())return!0;return!1},u=function(t,n,e,r){for(var i=n.date();!t[1].has(n.hour());)if(n[e](1,"hours")[r]("hour"),i!==n.date())return!0;return!1},s=function(t,n,e,r){for(var i=n.hour();!t[0].has(n.minute());)if(n[e](1,"minutes")[r]("minute"),i!==n.hour())return!0;return!1};n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n,e){"use strict";n.exports=[{name:"minute",min:0,max:59},{name:"hour",min:0,max:23},{name:"day",min:1,max:31},{name:"month",min:1,max:12,alt:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},{name:"weekday",min:0,max:6,alt:["SUN","MON","TUE","WED","THU","FRI","SAT"]}]},{}]},{},[1])(1)});