!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Cron=t()}}(function(){return function t(n,e,r){function i(s,u){if(!e[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var p=e[s]={exports:{}};n[s][0].call(p.exports,function(t){var e=n[s][1][t];return i(e?e:t)},p,p.exports,t,n,e,r)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,n,e){(function(e){"use strict";function r(t){t?this.options=t:this.options={},this.parts=null}var i=("undefined"!=typeof window?window.moment:"undefined"!=typeof e?e.moment:null,t("./part")),o=t("./seeker"),s=t("./units");r.prototype.fromString=function(t){if("string"!=typeof t)throw new Error("Invalid cron string");var n=t.replace(/\s+/g," ").trim().split(" ");if(5!==n.length)throw new Error("Invalid cron string format");var e=this.options;return this.parts=n.map(function(t,n){var r=new i(s[n],e);return r.fromString(t),r}),this},r.prototype.toString=function(){if(null===this.parts)throw new Error("No schedule found");return this.parts.join(" ")},r.prototype.fromArray=function(t){if(5!==t.length)throw new Error("Invalid cron array");return this.parts=t.map(function(t,n){var e=new i(s[n]);return e.fromArray(t),e}),this},r.prototype.toArray=function(){if(null===this.parts)throw new Error("No schedule found");return this.parts.map(function(t){return t.toArray()})},r.prototype.schedule=function(t){return new o(this,t)},n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./part":2,"./seeker":3,"./units":4}],2:[function(t,n,e){(function(e){"use strict";function r(t,n){n?this.options=n:this.options={},this.unit=t}var i="undefined"!=typeof window?window.sprintf:"undefined"!=typeof e?e.sprintf:null;"function"==typeof i.sprintf&&(i=i.sprintf);var o=t("./util");r.prototype["throw"]=function(t,n){throw new Error(i("%(error)s for %(unitName)s",{error:i(t,n),unitName:this.unit.name}))},r.prototype.fromArray=function(t){var n=o.sort(o.dedup(this.fixSunday(t.map(function(t){var n=parseInt(t,10);return isNaN(n)&&this["throw"]('Invalid value "%s"',t),n},this))));n.length||this["throw"]("Empty interval value");var e=this.outOfRange(n);"undefined"!=typeof e&&this["throw"]('Value "%s" out of range',e),this.values=n},r.prototype.fromString=function(t){var n=this.unit,e=t.split("/");e.length>2&&this["throw"]('Invalid value "%s"',t);var r,i=this.replaceAlternatives(e[0]);if("*"===i)r=o.range(n.min,n.max);else{r=o.sort(o.dedup(this.fixSunday(o.flatten(i.split(",").map(function(n){return this.parseRange(n,t)},this)))));var s=this.outOfRange(r);"undefined"!=typeof s&&this["throw"]('Value "%s" out of range',s)}var u=this.parseStep(e[1]),a=this.applyInterval(r,u);a.length||this["throw"]('Empty interval value "%s"',t),this.values=a},r.prototype.fixSunday=function(t){return"weekday"===this.unit.name&&(t=t.map(function(t){return 7===t?0:t})),t},r.prototype.parseRange=function(t,n){var e=t.split("-");if(1===e.length){var r=parseInt(e[0],10);return isNaN(r)&&this["throw"]('Invalid value "%s"',n),[r]}if(2===e.length){var i=parseInt(e[0],10),s=parseInt(e[1],10);return i>=s&&this["throw"]('Max range is less than min range in "%s"',t),o.range(i,s)}this["throw"]('Invalid value "%s"',t)},r.prototype.parseStep=function(t){if("undefined"!=typeof t){var n=parseInt(t,10);return(isNaN(n)||1>n)&&this["throw"]('Invalid interval step value "%s"',t),n}},r.prototype.applyInterval=function(t,n){return n&&(t=t.filter(function(t){return t%n===0})),t},r.prototype.replaceAlternatives=function(t){var n=this.unit;if(n.alt){t=t.toUpperCase();for(var e=0;e<n.alt.length;e++)t=t.replace(n.alt[e],e+n.min)}return t},r.prototype.outOfRange=function(t){var n=t[0],e=t[t.length-1];return n<this.unit.min?n:e>this.unit.max?e:void 0},r.prototype.min=function(){return this.values[0]},r.prototype.max=function(){return this.values[this.values.length-1]},r.prototype.isFull=function(){return this.values.length===this.unit.max-this.unit.min+1},r.prototype.getStep=function(){if(this.values.length>2){var t=this.values[1]-this.values[0];if(t>1)return t}},r.prototype.isInterval=function(t){for(var n=1;n<this.values.length;n++){var e=this.values[n-1],r=this.values[n];if(r-e!==t)return!1}return!0},r.prototype.isFullInterval=function(t){var n=this.unit,e=this.min(),r=this.max(),i=this.values.length===(r-e)/t+1;return e-t<n.min&&r+t>n.max&&i?!0:!1},r.prototype.has=function(t){return this.values.indexOf(t)>-1},r.prototype.toArray=function(){return this.values},r.prototype.toRanges=function(){var t=[],n=null;return this.values.forEach(function(e,r,i){e!==i[r+1]-1?null!==n?(t.push([n,e]),n=null):t.push(e):null===n&&(n=e)}),t},r.prototype.toString=function(){var t="";if(this.isFull())t=this.options.outputHashes?"H":"*";else{var n,e=this.getStep();e&&this.isInterval(e)?this.isFullInterval(e)?(n=this.options.outputHashes?"H/%d":"*/%d",t=i(n,e)):(n=this.options.outputHashes?"H(%s-%s)/%d":"%s-%s/%d",t=i(n,this.formatValue(this.min()),this.formatValue(this.max()),e)):t=this.toRanges().map(function(t){return t.length?i("%s-%s",this.formatValue(t[0]),this.formatValue(t[1])):this.formatValue(t)},this).join(",")}return t},r.prototype.formatValue=function(t){return this.options.outputWeekdayNames&&"weekday"===this.unit.name||this.options.outputMonthNames&&"month"===this.unit.name?this.unit.alt[t-this.unit.min]:t},n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":5}],3:[function(t,n,e){(function(t){"use strict";function e(t,n){if(null===t.parts)throw new Error("No schedule found");var e=r(n);if(!e.isValid())throw new Error("Invalid date provided");e.seconds()>0&&e.add(1,"minute"),this.cron=t,this.now=e,this.date=e,this.pristine=!0}var r="undefined"!=typeof window?window.moment:"undefined"!=typeof t?t.moment:null;e.prototype.reset=function(){this.pristine=!0,this.date=r(this.now)},e.prototype.next=function(){return this.pristine?this.pristine=!1:this.date.add(1,"minute"),i(this.cron.parts,this.date)},e.prototype.prev=function(){return this.pristine=!1,i(this.cron.parts,this.date,!0)};var i=function(t,n,e){var r="add",i="startOf";e&&(r="subtract",i="endOf",n.subtract(1,"minute"));for(var f=24;--f;){o(t,n,r,i);var p=s(t,n,r,i);if(!p){var h=u(t,n,r,i);if(!h){var l=a(t,n,r,i);if(!l)break}}}if(!f)throw new Error("Unable to find execution time for schedule");return n.seconds(0).milliseconds(0),n.toDate()},o=function(t,n,e,r){for(;!t[3].has(n.month()+1);)n[e](1,"months")[r]("month")},s=function(t,n,e,r){for(var i=n.month();!t[2].has(n.date())||!t[4].has(n.day());)if(n[e](1,"days")[r]("day"),i!==n.month())return!0;return!1},u=function(t,n,e,r){for(var i=n.date();!t[1].has(n.hour());)if(n[e](1,"hours")[r]("hour"),i!==n.date())return!0;return!1},a=function(t,n,e,r){for(var i=n.hour();!t[0].has(n.minute());)if(n[e](1,"minutes")[r]("minute"),i!==n.hour())return!0;return!1};n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n,e){"use strict";n.exports=[{name:"minute",min:0,max:59},{name:"hour",min:0,max:23},{name:"day",min:1,max:31},{name:"month",min:1,max:12,alt:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},{name:"weekday",min:0,max:6,alt:["SUN","MON","TUE","WED","THU","FRI","SAT"]}]},{}],5:[function(t,n,e){"use strict";var r={};r.range=function(t,n){for(var e=[],r=t;n>=r;r++)e.push(r);return e},r.sort=function(t){return t.sort(function(t,n){return t-n}),t},r.flatten=function(t){return[].concat.apply([],t)},r.dedup=function(t){var n=[];return t.forEach(function(t){n.indexOf(t)<0&&n.push(t)}),n},n.exports=r},{}]},{},[1])(1)});